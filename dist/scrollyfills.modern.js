if("undefined"!=typeof window&&!("onscrollend"in window)){const i=new Event("scrollend"),s=new Set;document.addEventListener("touchstart",e=>{for(let t of e.changedTouches)s.add(t.identifier)},{passive:!0}),document.addEventListener("touchend",e=>{for(let t of e.changedTouches)s.delete(t.identifier)},{passive:!0}),document.addEventListener("touchcancel",e=>{for(let t of e.changedTouches)s.delete(t.identifier)},{passive:!0});let l=new WeakMap;function e(e,t,n){let o=e[t];e[t]=function(){let e=Array.prototype.slice.apply(arguments,[0]);o.apply(this,e),e.unshift(o),n.apply(this,e)}}function t(e,t,n,o){if("scroll"!=t&&"scrollend"!=t)return;let r=this,d=l.get(r);if(void 0===d){let t=0;d={scrollListener:e=>{clearTimeout(t),t=setTimeout(()=>{s.size?setTimeout(d.scrollListener,100):(r&&r.dispatchEvent(i),t=0)},100)},listeners:0},e.apply(r,["scroll",d.scrollListener]),l.set(r,d)}d.listeners++}function n(e,t,n){if("scroll"!=t&&"scrollend"!=t)return;let o=this,i=l.get(o);void 0!==i&&(i[t]--,--i.listeners>0||(e.apply(o,["scroll",i.scrollListener]),l.delete(o)))}e(Element.prototype,"addEventListener",t),e(window,"addEventListener",t),e(document,"addEventListener",t),e(Element.prototype,"removeEventListener",n),e(window,"removeEventListener",n),e(document,"removeEventListener",n)}var o={__proto__:null};export{o as scrollend};
//# sourceMappingURL=scrollyfills.modern.js.map
